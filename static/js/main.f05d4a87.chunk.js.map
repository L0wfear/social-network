{"version":3,"sources":["components/News/News.module.css","components/Settings/Settings.module.css","img/chigurh.jpg","img/preloader.svg","components/Dialogs/Dialogs.module.css","components/Navbar/Navbar.module.css","components/Users/Users.module.css","serviceWorker.js","components/Header/Header.jsx","api/api.js","redux/loginReducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/DialogsText/AllText/AllText.jsx","components/Dialogs/DialogsText/DialogsText.jsx","components/Dialogs/Dialogs.jsx","redux/dialogsTextReducer.js","components/Dialogs/DialogsContainer.jsx","components/Users/Users.jsx","redux/usersSelectors.js","redux/usersReducer.js","components/Users/UsersContainer.jsx","redux/profielReducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","redux/profileTextReducer.js","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Status/ProfileStatusWithHooks.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Commons/FormsControl/FormsControl.js","utilits/validator.js","hoc/authRedirect.jsx","components/Login/Login.jsx","redux/appReducer.js","App.js","redux/dialogsReducer.js","redux/redux-store.js","index.js","components/Header/Header.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Login/Login.module.css","components/Profile/MyPosts/MyPosts.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","Header","props","className","classes","header","header_content","logo","loginLogoutBtn","loginDiv","to","loginBtn","login","isAuth","onClick","logout","logoutBtn","instance","axios","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","then","response","data","id","delete","post","profileAPI","userID","status","put","loginAPI","email","password","rememberMe","initialState","setUserLogin","type","authMe","dispatch","resultCode","loginReducer","state","action","HeaderContainer","this","React","Component","connect","auth","Navbar","nav","item","activeClassName","active","News","news","Settings","settings","DialogItem","dialogs","message","photo","src","imgSrc","alt","imgAlt","name","text","AllText","DialogsTextAreaForm","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","DialogsText","i","dialogs_body","dialogsData","map","key","formData","updateMessage","Dialogs","dialogsEl","d","params","messages","allDialogs","dialogsTextReducer","body","DialogsContainer","compose","withRouter","Users","images","pagesCount","Math","ceil","totalCount","arr","push","pagination","e","onPageChanged","users","img","photos","small","followed","disabled","isFollowingInProgress","some","unfollow","follow","getUsersSelector","usersData","getPageSizeSelector","getTotalCountSelector","getCurrentPageSelector","getIsFollowingInProgressSelector","toggleDisablingBtn","isFetching","usersReducer","u","filter","setUsersContainer","setCurrentPage","getUsers","UsersContainer","items","posts","likesCount","userInfo","setUserStatus","setIsFetching","profileReducer","stateCopy","postText","Post","likes","likeCount","MyPosts","postEl","postsData","p","value","profileText","onChange","target","updateProfileText","addPost","updateProfileTextCreator","profileTextReducer","MyPostsContainer","addPostCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","currentTarget","onBlur","updateStatus","autoFocus","Profile","content","large","ProfileContainer","undefined","getProfileInfo","getStatus","setUserInfo","nextProps","console","log","preloader","PureComponent","Input","input","meta","styles","loginInput","touched","error","errorSpan","required","mapDispatchToProps","LoginReduxForm","validate","stopSubmit","_error","RedirectComponent","withAuthRedirect","initialized","appReducer","App","initialize","exact","path","render","app","authPromise","Promise","all","dialogsReducer","reducers","combineReducers","dialogsText","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f05d4a87.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__jShBL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__-D0mw\"};","module.exports = __webpack_public_path__ + \"static/media/chigurh.33716469.jpg\";","module.exports = __webpack_public_path__ + \"static/media/preloader.fceecde9.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Dialogs_messages__3UTVu\",\"allDialogs\":\"Dialogs_allDialogs__qPDhn\",\"message\":\"Dialogs_message__2f57R\",\"photo\":\"Dialogs_photo__3K4tV\",\"name\":\"Dialogs_name__20aZ2\",\"dialogs_body\":\"Dialogs_dialogs_body__2QDBT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__cV3y2\",\"active\":\"Navbar_active__28EVn\",\"item\":\"Navbar_item__2zPfz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Users_message__1ApGx\",\"photo\":\"Users_photo__29GIF\",\"name\":\"Users_name__2h0RU\",\"pagination\":\"Users_pagination__1mwLX\",\"active\":\"Users_active__3xIH6\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return <header className={classes.header}>\r\n        <div className={classes.header_content}>\r\n            <div className={classes.logo}></div>\r\n            <div className={classes.loginLogoutBtn}>\r\n                <div className={classes.loginDiv} ><NavLink to={'/login'} className={classes.loginBtn}>{props.login || 'LOGIN'}</NavLink></div>\r\n                <div>{props.isAuth && <NavLink to={'/profile'} onClick={props.logout} className={classes.logoutBtn}>LOGOUT</NavLink>}</div>\r\n            </div>\r\n        </div>\r\n\r\n    </header>\r\n}\r\n\r\nexport default Header;","import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"fbcd69f4-3a1b-4b42-8b90-9ecc7dfafe4a\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    unfollowSucces(id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n\r\n    followSucces(id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userID) {\r\n        return instance.get(`profile/${userID}`);\r\n    },\r\n\r\n    getStatus(userID) {\r\n        return instance.get(`profile/status/${userID}`);\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status});\r\n    }\r\n}\r\n\r\nexport const loginAPI = {\r\n    authMe() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n\r\n    logout(){\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","import {loginAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_LOGIN = 'SET_USER_LOGIN';\r\n\r\nlet initialState = {\r\n   id: null,\r\n   email: null,\r\n   login: null\r\n};\r\n\r\nconst loginReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_LOGIN: {\r\n            return {\r\n                ...state, ...action.data\r\n            }\r\n        }\r\n        default: {\r\n            return {...state};\r\n        }\r\n    }\r\n}\r\n\r\nexport let setUserLogin = (id, email, login, isAuth = false) => {\r\n    return ({ type: SET_USER_LOGIN, data: {id, email, login, isAuth}  });\r\n}\r\n\r\nexport const authMe = () => (dispatch) => {\r\n        loginAPI.authMe()\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    let { id, email, login } = data.data;\r\n                    dispatch (setUserLogin(id, email, login, true));\r\n                }\r\n            });\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return (dispatch) => {\r\n        loginAPI.login(email, password, rememberMe)\r\n            .then(response => {              \r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(authMe());\r\n                }\r\n                else {\r\n                    let message = response.data.messages[0];\r\n                    dispatch(stopSubmit('login', {_error: message}));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return (dispatch) => {\r\n        loginAPI.logout()\r\n            .then(response => {\r\n                if(response.data.resultCode === 0) {\r\n                    dispatch(setUserLogin(null, null, null, false));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport default loginReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/loginReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n   \r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nconst Navbar = () => {\r\n    return <nav className={classes.nav}>\r\n        <div className = {classes.item}>\r\n            <NavLink to='/profile' activeClassName={classes.active}>Profile</NavLink>\r\n        </div>\r\n        <div className = {classes.item}>\r\n            <NavLink to='/dialogs' activeClassName={classes.active}>Messages</NavLink>\r\n        </div>\r\n        <div className = {classes.item}>\r\n            <NavLink to='/news' activeClassName={classes.active}>News</NavLink>\r\n        </div>\r\n        <div className = {classes.item}>\r\n            <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n        </div>\r\n        <div className = {classes.item}> \r\n            <NavLink to='/settings' activeClassName={classes.active}>Settings</NavLink>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport classes from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div className = {classes.news}>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;\r\n\r\n","import React from 'react';\r\nimport classes from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div className = {classes.settings}>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;\r\n\r\n","import React from 'react';\r\nimport classes from './../Dialogs.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <NavLink to={\"/dialogs/\" + props.id} className={classes.dialogs}>\r\n            <div className={classes.message}>\r\n                <img className={classes.photo} src={props.imgSrc} alt={props.imgAlt} />\r\n                <div>\r\n                    <div className={classes.name}>{props.name}</div>\r\n                    <div className={classes.text}>{props.text[0]}</div>\r\n                </div>\r\n            </div>\r\n        </NavLink>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default DialogItem;\r\n\r\n","import React from 'react';\r\nimport classes from './../../../Dialogs/Dialogs.module.css'\r\n\r\nconst AllText = (props) => {\r\n    return (\r\n        <div className = {classes.text}>{props.text}</div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default AllText;\r\n\r\n","import React from 'react';\r\nimport classes from './../../Dialogs/./Dialogs.module.css';\r\nimport AllText from './AllText/AllText';\r\nimport {reduxForm, Field} from 'redux-form';\r\n\r\nconst DialogsText = (props) => {\r\n    \r\n    let i = 0;\r\n    const onSubmit = (formData) => {\r\n        props.updateMessage(props.userID, formData);\r\n     }\r\n    return (\r\n        <div className={classes.dialogs_body}>\r\n            {props.userID ? props.dialogsData[props.userID - 1].text.map(item => <AllText key = {i++} text = {item} />) : 'Text'}\r\n\r\n            <DialogsTextAreaForm onSubmit = {onSubmit} />\r\n        </div> \r\n    );\r\n}\r\n\r\nconst DialogsTextArea = (props) => {\r\n    return <form onSubmit = {props.handleSubmit} >\r\n    <div>\r\n        <Field name = {'message'} component = {'textarea'} placeholder = 'Enter text'/>\r\n    </div>\r\n    <div>\r\n        <button>SEND</button>\r\n    </div>\r\n</form>\r\n}\r\n\r\nconst DialogsTextAreaForm = reduxForm({form: 'message'})(DialogsTextArea);\r\n\r\nexport default DialogsText;\r\n\r\n","import React from 'react';\r\nimport classes from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport DialogsText from './DialogsText/DialogsText';\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let dialogsEl = props.dialogsData.map(d => <DialogItem id = {d.id} key = {d.id}\r\n        name = {d.name} text = {d.text} imgAlt = {d.imgAlt} imgSrc = {d.imgSrc} />);\r\n    let userID = props.match.params.userID;\r\n    return (\r\n        <div className={classes.messages}>\r\n            <div className={classes.allDialogs}>\r\n                {dialogsEl}\r\n            </div>\r\n            <DialogsText userID = {userID} text = {dialogsEl.text} updateMessage = {props.updateMessage} dialogsData = {props.dialogsData}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialogs;\r\n\r\n","const UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT';\r\n\r\nlet initialState = null;\r\n\r\nconst dialogsTextReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_TEXT:\r\n            state = action.body;\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport let updateMessage = (userID, body) => {\r\n    return ({type: UPDATE_NEW_MESSAGE_TEXT, userID, body});\r\n}\r\n\r\nexport default dialogsTextReducer;","import {connect} from 'react-redux';\r\nimport Dialogs from './Dialogs';\r\nimport { updateMessage } from '../../redux/dialogsTextReducer';\r\nimport { compose } from 'redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nclass DialogsContainer extends React.Component {\r\n    render() {\r\n        return <Dialogs {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: state.dialogsData\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {updateMessage}), withRouter)(DialogsContainer);\r\n\r\n","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Users = (props) => {\r\n    let images = ['https://pp.userapi.com/eexeiSowSIdc7K5OWxUc-qVzbU-4q2I0wF-lxA/lQBl6AZVRfo.jpg?ava=1', 'https://avatarfiles.alphacoders.com/808/thumb-80867.jpg', 'https://avatarfiles.alphacoders.com/154/154232.png', 'https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/0e0c5a26-a646-44ed-b57f-2a254820730e/d58caox-224bc632-4e9c-446d-b148-a5b1021e278d.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzBlMGM1YTI2LWE2NDYtNDRlZC1iNTdmLTJhMjU0ODIwNzMwZVwvZDU4Y2FveC0yMjRiYzYzMi00ZTljLTQ0NmQtYjE0OC1hNWIxMDIxZTI3OGQuanBnIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.3slbzxV2RgD_-eTO2sSBiCgWhgCIdAKVfVdnfBKs2CU'];\r\n    let pagesCount = Math.ceil(props.totalCount / props.pageSize);\r\n    let arr = [];\r\n\r\n    for (let i = (props.currentPage <= 5 ? 1 : props.currentPage + 5 > pagesCount ? pagesCount - 9 : props.currentPage - 5);\r\n        i <= (props.currentPage <= 5 ? 10 : props.currentPage + 5 > pagesCount ? pagesCount : props.currentPage + 4); i++) {\r\n        arr.push(i);\r\n    }\r\n    return (\r\n        <div className={classes.messages}>\r\n            <div className={classes.pagination}>\r\n                <div>\r\n                    {arr.map(e => <span className=\r\n                        {e === props.currentPage && classes.active}\r\n                        onClick={() => { props.onPageChanged(e) }} >{e}</span>)}\r\n                </div>\r\n            </div>\r\n            <div className={classes.allDialogs}>\r\n                {props.users.map(d => <div id={d.id} key={d.id} className={classes.message} img={d.photos.small}>\r\n                    <NavLink to={'profile/' + d.id}>\r\n                        <img className={classes.photo} src={d.photos.small || images[3]} alt={d.imgAlt} />\r\n                    </NavLink>\r\n                    <div>\r\n                        <div className={classes.name}>{d.name}</div>\r\n                        <div className={classes.text}>text</div>\r\n                        {d.followed ? <button disabled = {props.isFollowingInProgress.some(id => id === d.id)} onClick={() => {\r\n                            props.unfollow(d.id);\r\n                        }}> unfollow\r\n                        </button> :\r\n                        <button disabled = {props.isFollowingInProgress.some(id => id === d.id)} onClick={() => {\r\n                            props.follow(d.id);\r\n                        }}> follow\r\n                        </button>}\r\n                    </div>\r\n                </div>\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Users;\r\n","export const getUsersSelector = (state) => {\r\n    return state.usersData.users;\r\n}\r\n\r\nexport const getPageSizeSelector = (state) => {\r\n    return state.usersData.pageSize;\r\n}\r\n\r\nexport const getTotalCountSelector = (state) => {\r\n    return state.usersData.totalCount;\r\n}\r\n\r\nexport const getCurrentPageSelector = (state) => {\r\n    return state.usersData.currentPage;\r\n}\r\n\r\nexport const getIsFollowingInProgressSelector = (state) => {\r\n    return state.usersData.isFollowingInProgress;\r\n}\r\n","import {usersAPI} from '../api/api';\r\n\r\nconst FOLLOW = 'FOLLOW',\r\n    UNFOLLOW = 'UNFOLLOW',\r\n    SET_USERS = 'SET_USERS',\r\n    SET_CURRENT_PAGE = 'SET_CURRENT_PAGE',\r\n    SET_TOTAL_COUNT = 'SET_TOTAL_COUNT',\r\n    TOGGLE_DISABLING_BUTTON = 'TOGGLE_DISABLING_BUTTON';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalCount: 30,\r\n    currentPage: 1,\r\n    isFollowingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state, users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state, users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_COUNT:\r\n            return {\r\n                ...state, totalCount: action.totalCount\r\n            }\r\n        case TOGGLE_DISABLING_BUTTON:\r\n            return {\r\n                ...state, isFollowingInProgress: action.isFetching\r\n                ? [...state.isFollowingInProgress, action.userID]\r\n                : [state.isFollowingInProgress.filter(id => id !== action.userID)]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport let followAC = (userID) => ({ type: FOLLOW, userID });\r\nexport let unfollowAC = (userID) => ({ type: UNFOLLOW, userID });\r\nexport let toggleDisablingBtn = (userID, isFetching) => ({ type: TOGGLE_DISABLING_BUTTON, userID, isFetching });\r\nexport let setUsers = (users) => ({ type: SET_USERS, users });\r\nexport let setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport let setTotalCount = (totalCount) => ({ type: SET_TOTAL_COUNT, totalCount });\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return (dispatch) => {\r\n        usersAPI.getUsers(currentPage, pageSize)\r\n             .then(data => {\r\n                dispatch(setUsers(data.items));\r\n                dispatch(setTotalCount(data.totalCount));\r\n             });\r\n    }\r\n}\r\n\r\nexport const unfollow = (id) => {\r\n    return (dispatch) => {\r\n        dispatch (toggleDisablingBtn(id, true));\r\n                            usersAPI.unfollowSucces(id)\r\n                            .then(data => {\r\n                                if (data.resultCode === 0){\r\n                                    dispatch (unfollowAC(id));\r\n                                    dispatch (toggleDisablingBtn(id, false));}\r\n                            });\r\n    }\r\n}\r\n\r\nexport const follow = (id) => {\r\n    return (dispatch) => {\r\n        dispatch (toggleDisablingBtn(id, true));\r\n                            usersAPI.followSucces(id)\r\n                                .then(data => {\r\n                                    if (data.resultCode === 0) {\r\n                                        dispatch (followAC(id));\r\n                                        dispatch (toggleDisablingBtn(id, false));\r\n                                    }\r\n                                });\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;","import Users from './Users';\r\nimport {getPageSizeSelector, getTotalCountSelector, getCurrentPageSelector, getIsFollowingInProgressSelector, getUsersSelector} from '../../redux/usersSelectors';\r\nimport { connect } from 'react-redux';\r\nimport {follow, setCurrentPage, unfollow, getUsers} from '../../redux/usersReducer';\r\nimport React from 'react';\r\n\r\nclass setUsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n         this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n    \r\n    onPageChanged = (currentPage) => {\r\n        this.props.setCurrentPage(currentPage);\r\n        this.props.getUsers(currentPage, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n         return <Users {...this.props}\r\n                       follow    = {this.props.follow}\r\n                       unfollow  = {this.props.unfollow}\r\n                       onPageChanged = {this.onPageChanged}\r\n         />\r\n     };\r\n }\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { pageSize: getPageSizeSelector(state),\r\n             totalCount: getTotalCountSelector(state), \r\n             currentPage: getCurrentPageSelector(state),\r\n             users: getUsersSelector(state),     \r\n             isFollowingInProgress: getIsFollowingInProgressSelector(state) \r\n    };\r\n}\r\n\r\nconst UsersContainer = connect(mapStateToProps, { follow, setCurrentPage, unfollow, getUsers })(setUsersContainer);\r\n\r\nexport default UsersContainer;\r\n\r\n","import {profileAPI} from '../api/api';\r\n\r\nconst ADD_POST = 'ADD_POST',\r\n      SET_USER_INFO = 'SET_USER_INFO',\r\n      GET_STATUS = 'GET_STATUS',\r\n      TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, text: 'This is first message', likesCount: 0 },\r\n        { id: 2, text: 'This is second message', likesCount: 23 }],\r\n    userInfo: null,\r\n    status:'',\r\n    isFetching: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let stateCopy = { ...state, posts: [...state.posts, { id: 3, text: action.postText, likesCount: 0 }] };\r\n            return stateCopy;\r\n        }\r\n        case SET_USER_INFO: {\r\n            return { ...state, userInfo: action.userInfo };\r\n        }\r\n        case GET_STATUS: {\r\n            return { ...state, status: action.status };\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching };\r\n        }\r\n        default: {\r\n            let stateCopy = { ...state };\r\n            return stateCopy;\r\n        }\r\n    }\r\n}\r\n\r\nexport const addPostCreator = (text) => {\r\n    return ({ type: ADD_POST, postText: text });\r\n}\r\n\r\nexport const setUserInfo = (userInfo) => {\r\n    return ({ type: SET_USER_INFO, userInfo });\r\n}\r\n\r\nexport const setUserStatus = (status) => {\r\n    return ({type: GET_STATUS, status});\r\n}\r\n\r\nconst setIsFetching = (isFetching) => {\r\n    return ({ type: TOGGLE_IS_FETCHING, isFetching });\r\n}\r\n\r\nexport const getProfileInfo = (userID) => (dispatch) => {\r\n        dispatch(setIsFetching(false));\r\n        profileAPI.getProfile(userID)\r\n        .then(response => {\r\n            dispatch(setUserInfo(response.data));\r\n            dispatch(setIsFetching(true));\r\n        });\r\n}\r\n\r\nexport const getStatus = (userID) => (dispatch) => {\r\n        profileAPI.getStatus(userID)\r\n        .then(response => {\r\n            dispatch(setUserStatus(response.data));\r\n        });\r\n}\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n    .then(response => {\r\n        if(response.data.resultCode === 0){\r\n        dispatch(setUserStatus(status))}\r\n    });\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport classes from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={classes.item}>\r\n      <img alt='someAlt' src='https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg' />\r\n      <div className={classes.message}>\r\n        {props.message}\r\n      </div>\r\n      <div className={classes.likes}>\r\n        <span>like {props.likeCount}</span> \r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport classes from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\n\r\nconst MyPosts = (props) => {\r\n\r\n  let postEl = props.postsData.posts.map(p => <Post id = {p.id} key = {p.id} message = {p.text} likeCount ={p.likesCount} />)\r\n  \r\n  let onTextChange = (e) => {\r\n    let body = e.target.value;\r\n    props.updateProfileText(body);\r\n  }\r\n\r\n  let addPost = () => {\r\n    let text = props.profileText;\r\n    props.addPost(text);\r\n  }\r\n\r\n  return (\r\n    <div className ={classes.posts}>\r\n      My posts\r\n      <div>\r\n        <textarea value = {props.profileText}\r\n                  placeholder = 'Enter text'\r\n                  onChange = {onTextChange} ></textarea>\r\n        <button onClick = {addPost}>Add post</button>\r\n        \r\n      </div>\r\n      <div className = {classes.posts}>\r\n        {postEl}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyPosts;","const UPDATE_PROFILE_TEXT = 'UPDATE_PROFILE_TEXT';\r\n\r\nlet initialState = '';\r\n\r\nconst profileTextReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_PROFILE_TEXT:\r\n            state = action.body;\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport let updateProfileTextCreator = (body) => {\r\n    return ({type: UPDATE_PROFILE_TEXT, body: body});\r\n}\r\n\r\nexport default profileTextReducer;","// import React from 'react';\r\nimport { addPostCreator } from '../../../redux/profielReducer';\r\nimport MyPosts from './MyPosts';\r\nimport { updateProfileTextCreator } from '../../../redux/profileTextReducer';\r\nimport {connect} from 'react-redux';\r\n\r\n// const MyPostsContainer = (props) => {\r\n//   let state = props.store.getState();\r\n\r\n//   let addPost = (text) => {\r\n//     props.store.dispatch(addPostCreator(text));\r\n//     state.profileText = '';\r\n//   }\r\n\r\n//   let updateProfileText = (body) => {\r\n//     props.store.dispatch(updateProfileTextCreator(body));\r\n//   }\r\n//   return (\r\n//     <MyPosts addPost = {addPost} updateProfileText = {updateProfileText} \r\n//              postsData = {state.postsData} profileText = {state.profileText} />\r\n//   )\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    postsData: state.postsData,\r\n    profileText: state.profileText\r\n  }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateProfileText: (body) => {\r\n      dispatch(updateProfileTextCreator(body));\r\n    },\r\n    addPost: (text) => {\r\n      dispatch(addPostCreator(text));\r\n      text = '';\r\n      dispatch(updateProfileTextCreator(text));\r\n    }\r\n  }\r\n};\r\n\r\nconst MyPostsContainer = connect (mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React, {useState, useEffect} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    \r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  }\r\n\r\n  const changeStatus = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n  \r\n    return (\r\n      <div>\r\n        <div>\r\n          { !editMode &&\r\n            <span onClick = {activateEditMode}> {status ||'set'} </span>\r\n          }\r\n        </div>\r\n        <div>\r\n          { editMode &&\r\n            <input onChange = {changeStatus} onBlur = {deactivateEditMode} autoFocus ={true} type=\"text\" value = {status}  />\r\n            }\r\n        </div>\r\n      </div>)\r\n  }\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react';\r\nimport classes from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n//import ProfileStatus from './Status/ProfileStatus';\r\nimport ProfileStatusWithHooks from './Status/ProfileStatusWithHooks';\r\nimport img from '../../img/chigurh.jpg';\r\n\r\nconst Profile = (props) => {\r\n    \r\n    return (\r\n      <div className={classes.content}>\r\n      <div>\r\n        <img src= { props.userInfo && (props.userInfo.photos.large || img)} alt=\"\"/>\r\n      </div>\r\n      <ProfileStatusWithHooks {...props} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile;\r\n","import React, {PureComponent} from 'react';\r\nimport Profile from './Profile';\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {getProfileInfo, getStatus, updateStatus} from './../../redux/profielReducer';\r\n// import withAuthRedirect from '../../hoc/authRedirect';\r\nimport {compose} from 'redux';\r\nimport preloader from '../../img/preloader.svg'\r\n\r\nclass ProfileContainer extends PureComponent {\r\n\r\nsetUserInfo() {\r\n  let userID = this.props.isAuth ? (this.props.match.params.userID || this.props.userID) : (this.props.match.params.userID || 2);\r\n  if(this.props.isAuth !== undefined){\r\n  this.props.getProfileInfo(userID);\r\n  this.props.getStatus(userID);}\r\n}\r\n\r\ncomponentDidMount() {\r\n  this.setUserInfo();\r\n}\r\n\r\ncomponentDidUpdate (nextProps) {\r\n  if(!this.props.userInfo){\r\n  this.setUserInfo();}\r\n}\r\n\r\n  render () {\r\n      return <>\r\n      {console.log('io')}\r\n      {!this.props.isFetching ? <img src =  {preloader} alt = 'preloader' /> : <Profile {...this.props} userInfo = {this.props.userInfo} />}\r\n      \r\n      </>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userInfo: state.postsData.userInfo,\r\n    status: state.postsData.status,\r\n    isAuth: state.auth.isAuth,\r\n    userID: state.auth.id,\r\n    isFetching: state.postsData.isFetching\r\n  }\r\n}\r\n\r\nexport default compose (connect(mapStateToProps, {getProfileInfo, getStatus, updateStatus}), withRouter) (ProfileContainer);\r\n\r\n// , withAuthRedirect","import React from 'react';\r\nimport styles from '../../Login/Login.module.css';\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    return <div>\r\n    <input {...input} {...props} className = {styles.loginInput + ' ' + (meta.touched && meta.error && styles.error)} />\r\n    {meta.touched && meta.error && <span className = {styles.errorSpan}>{meta.error}</span>}\r\n    </div> \r\n}\r\n","export const required = (value) => {\r\n    if (value) {return undefined};\r\n    return 'Field is required'\r\n}","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapDispatchToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n    \r\n        render () {\r\n            \r\n            if(this.props.isAuth) {return <Redirect to = {'/profile'} />}\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect (mapDispatchToProps, null) (RedirectComponent);\r\n}\r\n\r\n","import React from 'react';\r\nimport {reduxForm, Field} from 'redux-form';\r\nimport {Input} from '../Commons/FormsControl/FormsControl';\r\nimport {required} from '../../utilits/validator';\r\nimport { connect } from 'react-redux';\r\nimport { login, logout } from '../../redux/loginReducer';\r\nimport withAuthRedirect from '../../hoc/authRedirect';\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.login, formData.password, formData.rememberMe);\r\n    }\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit = {onSubmit} />\r\n    </div>\r\n}\r\n\r\nconst LoginForm = (props) => { \r\n    return (\r\n        <form onSubmit = {props.handleSubmit} >\r\n            <div>\r\n               <Field placeholder = {'Login'} name = {'login'} component = {Input} validate = {required} />\r\n            </div>\r\n            <div>\r\n                <Field placeholder = {'Password'} type = {'password'} name = {'password'} component = {Input} validate = {required} />\r\n            </div>\r\n            <div>\r\n                <Field type= {'checkbox'} name = {'rememberMe'} component = {'input'}/> Remember me\r\n            </div>\r\n            <div>\r\n                <button>LOGIN</button>\r\n                {props.error && <div> {props.error} </div>}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nexport default connect(null, {login, logout})(withAuthRedirect (Login));","import {authMe} from './loginReducer';\r\n\r\nconst INITIALIZE_APP = 'INITIALIZE_APP';\r\n\r\nconst initialState = {\r\n   initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZE_APP: {\r\n            return {\r\n                ...state, initialized: true\r\n            }\r\n        }\r\n        default: {\r\n            return {...state};\r\n        }\r\n    }\r\n}\r\n\r\nconst initializeApp = () => {\r\n    return ({ type: INITIALIZE_APP});\r\n}\r\n\r\nexport const initialize = () => (dispatch) => {\r\n       let authPromise = dispatch(authMe());\r\n        Promise.all([authPromise])\r\n        .then(() => {\r\n            dispatch(initializeApp());\r\n        })\r\n}\r\n\r\nexport default appReducer;","import React from 'react';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport { Route, withRouter } from 'react-router-dom';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport Login from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport {initialize} from './redux/appReducer'\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initialize();\n}\n\n  render() {\n    if(!this.props.initialized) {\n      return <div>LOADING</div>\n    }\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <div className='wrapper_container'>\n          <Navbar />\n          <div className = 'wrapper-content'>\n          <Route exact path='/' render={() => <Login />} />  \n          <Route path='/profile/:userID?' render={() => <ProfileContainer />} />\n          <Route path='/dialogs/:userID?' render={() => <DialogsContainer />} />\n          <Route path='/news' render={() => <News />} />\n          <Route path='/users' render={() => <UsersContainer />} />\n          <Route path='/settings' render={() => <Settings />} />\n          <Route path='/login' render={() => <Login />} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {initialized: state.app.initialized}\n}\n\nexport default compose(withRouter, connect(mapStateToProps, { initialize })) (App);\n","const UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT';\r\n\r\nlet images = ['https://pp.userapi.com/eexeiSowSIdc7K5OWxUc-qVzbU-4q2I0wF-lxA/lQBl6AZVRfo.jpg?ava=1', 'https://avatarfiles.alphacoders.com/808/thumb-80867.jpg', 'https://avatarfiles.alphacoders.com/154/154232.png', 'https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/0e0c5a26-a646-44ed-b57f-2a254820730e/d58caox-224bc632-4e9c-446d-b148-a5b1021e278d.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzBlMGM1YTI2LWE2NDYtNDRlZC1iNTdmLTJhMjU0ODIwNzMwZVwvZDU4Y2FveC0yMjRiYzYzMi00ZTljLTQ0NmQtYjE0OC1hNWIxMDIxZTI3OGQuanBnIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.3slbzxV2RgD_-eTO2sSBiCgWhgCIdAKVfVdnfBKs2CU'];\r\n\r\nlet initialState = [\r\n    {\r\n        id: 1, name: 'Doctor Evil', text: ['One million dollars'], imgAlt: 'evil',\r\n        imgSrc: images[0]\r\n    },\r\n    {\r\n        id: 2, name: 'Freddy', text: ['I am your nightmare', 'ooo'], imgAlt: 'fire',\r\n        imgSrc: images[1]\r\n    },\r\n    {\r\n        id: 3, name: 'Jason', text: ['You are so ugly'], imgAlt: 'friday',\r\n        imgSrc: images[2]\r\n    },\r\n    {\r\n        id: 4, name: 'Chigurh', text: ['Cross or pile?'], imgAlt: 'pure evil',\r\n        imgSrc: images[3]\r\n    }\r\n];\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_TEXT:\r\n            {\r\n               return state.map((u) => \r\n                {   \r\n                    if (u.id === +action.userID) {\r\n                        return {...u, text: [...u.text, [action.body.message]]}\r\n                    }\r\n                    return u\r\n                });\r\n            }\r\n        default: {\r\n            let stateCopy = [...state];\r\n            return stateCopy;\r\n        }\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","import {createStore, combineReducers, applyMiddleware} from 'redux';\r\nimport profileReducer from './profielReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport profileTextReducer from './profileTextReducer';\r\nimport usersReducer from './usersReducer';\r\nimport dialogsTextReducer from './dialogsTextReducer';\r\nimport loginReducer from './loginReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './appReducer';\r\n\r\nlet reducers = combineReducers({\r\n    postsData: profileReducer,\r\n    profileText: profileTextReducer,\r\n    dialogsData: dialogsReducer,\r\n    dialogsText: dialogsTextReducer,\r\n    usersData: usersReducer,\r\n    auth: loginReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\n\r\nexport default store; ","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './redux/redux-store';\nimport { HashRouter } from 'react-router-dom';\nimport {Provider} from 'react-redux';\n\n    ReactDOM.render(\n        <HashRouter>\n            <Provider store = {store}>\n                <App />\n            </Provider>\n        </HashRouter>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1uyX9\",\"logo\":\"Header_logo__kPmF-\",\"loginBtn\":\"Header_loginBtn__2kFkM\",\"header_content\":\"Header_header_content__hrUjP\",\"logoutBtn\":\"Header_logoutBtn__-BCl-\",\"loginDiv\":\"Header_loginDiv__1GfuX\",\"loginLogoutBtn\":\"Header_loginLogoutBtn__2b__1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__321lE\",\"message\":\"Post_message__3l-JE\",\"likes\":\"Post_likes__171FO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorSpan\":\"Login_errorSpan__3Eyjk\",\"error\":\"Login_error__3DL3c\",\"loginInput\":\"Login_loginInput__14PoA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2rUht\"};"],"sourceRoot":""}